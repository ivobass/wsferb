

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FEXAuthorize &mdash; WSFErb v2.0.rc2</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.0.rc2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="WSFErb v2.0.rc2" href="index.html" />
    <link rel="up" title="WSFEX" href="wsfex.html" />
    <link rel="next" title="FEXCheckPermiso" href="fexCheckPermiso.html" />
    <link rel="prev" title="WSFEX" href="wsfex.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="fexCheckPermiso.html" title="FEXCheckPermiso"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="wsfex.html" title="WSFEX"
             accesskey="P">anterior</a> |</li>
        <li><a href="index.html">WSFErb v2.0.rc2</a> &raquo;</li>
          <li><a href="wsfex.html" accesskey="U">WSFEX</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Contenidos</a></h3>
  <ul>
<li><a class="reference internal" href="#">FEXAuthorize</a><ul>
<li><a class="reference internal" href="#modo-de-uso">Modo de uso</a><ul>
<li><a class="reference internal" href="#opciones">Opciones</a></li>
</ul>
</li>
<li><a class="reference internal" href="#formato-del-archivo">Formato del Archivo</a><ul>
<li><a class="reference internal" href="#tipo-de-registro-1-cabecera">Tipo de Registro 1 (cabecera)</a></li>
<li><a class="reference internal" href="#tipo-de-registro-2-permisos">Tipo de Registro 2 (permisos)</a></li>
<li><a class="reference internal" href="#tipo-de-registro-3-comprobantes-asociados">Tipo de Registro 3 (comprobantes asociados)</a></li>
<li><a class="reference internal" href="#tipo-de-registro-4-items">Tipo de Registro 4 (items)</a></li>
<li><a class="reference internal" href="#tipo-de-registro-c-cae">Tipo de Registro C (CAE)</a></li>
<li><a class="reference internal" href="#tipo-de-registro-e-errores">Tipo de Registro E (errores)</a></li>
<li><a class="reference internal" href="#tipo-de-registro-v-eventos">Tipo de Registro V (eventos)</a></li>
<li><a class="reference internal" href="#errores-posibles">Errores Posibles</a><ul>
<li><a class="reference internal" href="#errores-comunes-a-todos-los-servicios-wsfex">Errores comunes a todos los servicios WSFEX</a></li>
<li><a class="reference internal" href="#errores-especificos-de-este-servicio">Errores específicos de este servicio</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Tema anterior</h4>
  <p class="topless"><a href="wsfex.html"
                        title="Capítulo anterior">WSFEX</a></p>
  <h4>Próximo tema</h4>
  <p class="topless"><a href="fexCheckPermiso.html"
                        title="Próximo capítulo">FEXCheckPermiso</a></p>
<div id="searchbox" style="display: none">
  <h3>Búsqueda rápida</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Introducir términos de búsqueda.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="fexauthorize">
<span id="index-0"></span><h1>FEXAuthorize<a class="headerlink" href="#fexauthorize" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Solicita la autorización de un comprobante de exportación.</p>
<p>Recibe un archivo de texto con los datos del comprobante a autorizar, lo procesa, y genera un archivo de salida
con los mismos datos, más el <a class="reference internal" href="glossary.html#term-cae"><em class="xref std std-term">CAE</em></a> otorgado y algunos datos adicionales.</p>
<p>En el diseño de este método en el <a class="reference internal" href="glossary.html#term-wsfex"><em class="xref std std-term">WSFEX</em></a> de la <a class="reference internal" href="glossary.html#term-afip"><em class="xref std std-term">AFIP</em></a> se ha previsto que pueden ocurrir interrupciones en la
comunicación entre el cliente y el web service. Basicamente, el cliente envía una solicitud de
autorización al <a class="reference internal" href="glossary.html#term-wsfex"><em class="xref std std-term">WSFEX</em></a> y se queda esperando una respuesta que no llega, hasta que transcurrido algún
tiempo, se produce una condición de time-out.</p>
<p>En este caso, el usuario no podría determinar si la solicitud le llegó al <a class="reference internal" href="glossary.html#term-wsfex"><em class="xref std std-term">WSFEX</em></a>, este asignó el
<a class="reference internal" href="glossary.html#term-cae"><em class="xref std std-term">CAE</em></a> y la falla se produjo durante el retorno de la información, o bien si la falla ocurrió
durante el envío de la solicitud y por lo tanto el <a class="reference internal" href="glossary.html#term-wsfex"><em class="xref std std-term">WSFEX</em></a> nunca la recibió.</p>
<p>En el segundo caso, con simplemente enviar una nueva solicitud todo queda resuelto, pero en el primer
caso, si el cliente envía una nueva solicitud (con un nuevo identificador) para el mismo comprobante, el
<a class="reference internal" href="glossary.html#term-wsfex"><em class="xref std std-term">WSFEX</em></a> devolvería un error de consecutividad puesto que en la base de datos de <a class="reference internal" href="glossary.html#term-afip"><em class="xref std std-term">AFIP</em></a> ese comprobante
figura como emitido.</p>
<p>Aquí es donde se hace evidente la funcionalidad del campo ID. <a class="reference internal" href="glossary.html#term-wsfex"><em class="xref std std-term">WSFEX</em></a> archiva en su base de datos todas
las respuestas que devuelve junto con su ID de requerimiento. Cuando recibe una nueva solicitud, lo
primero que hace es verificar en la base de datos si ya tiene archivada una respuesta con ese mismo ID.
En caso afirmativo, aún cuando los datos del comprobante sean totalmente distintos, el web service
procede a devolver la misma respuesta que tiene archivada.</p>
<p>De esta descripción surgen algunas conclusiones importantes:</p>
<ul class="simple">
<li>Es fundamental asegurarse de no repetir accidentalmente el ID de requerimiento.</li>
<li>Debe archivarse el ID de cada solicitud puesto que va a ser el único modo de recuperar la información en caso de error.</li>
<li>Cuando se corrija un error de datos que motivó un rechazo anterior, debe enviarse un ID nuevo. De lo contrario se volverá a obtener el mismo error.</li>
</ul>
<div class="section" id="modo-de-uso">
<h2>Modo de uso<a class="headerlink" href="#modo-de-uso" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="highlight-python"><pre>wsfex FEXAuthorize &lt;cbte&gt; &lt;opciones&gt;</pre>
</div>
<p>donde:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Campo</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Cbte</td>
<td>Ubicación del archivo de texto que contiene los datos
del comprobante a autorizar. Para evitar inconvenientes
se recomienda utilizar la ubicación completa del
archivo, y usar nombres cortos utilizando sólo A-Z,
0-9 y guiones.</td>
</tr>
</tbody>
</table>
<div class="section" id="opciones">
<h3>Opciones<a class="headerlink" href="#opciones" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Cada una de estas opciones tiene una versión abreviada y una versión descriptiva. Ambas tienen exactamente la misma funcionalidad.</p>
<dl class="option">
<dt id="cmdoption-c">
<tt class="descname">-c</tt><tt class="descclassname"> &lt;cuit&gt;</tt><tt class="descclassname">, </tt><tt class="descname">--cuit</tt><tt class="descclassname"> &lt;cuit&gt;</tt><a class="headerlink" href="#cmdoption-c" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p><a class="reference internal" href="glossary.html#term-cuit"><em class="xref std std-term">CUIT</em></a> del contribuyente. Sólo los 11 dígitos numéricos, sin guiones ni signos de puntuación. Esta
es la única opción obligatoria para todos los servicios.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-r">
<tt class="descname">-r</tt><tt class="descclassname"> &lt;cert-file&gt;</tt><tt class="descclassname">, </tt><tt class="descname">--cert</tt><tt class="descclassname"> &lt;cert-file&gt;</tt><a class="headerlink" href="#cmdoption-r" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ubicación del <a class="reference internal" href="glossary.html#term-certificado-digital"><em class="xref std std-term">certificado digital</em></a> provisto por la <a class="reference internal" href="glossary.html#term-afip"><em class="xref std std-term">AFIP</em></a>. En caso de no estar presente se intentará
localizar el <a class="reference internal" href="glossary.html#term-certificado-digital"><em class="xref std std-term">certificado digital</em></a> <strong>&lt;cuit&gt;.crt</strong> en el directorio actual. De no existir dicho archivo,
no se podrá solicitar un nuevo <a class="reference internal" href="glossary.html#term-ticket-de-acceso"><em class="xref std std-term">ticket de acceso</em></a> en caso de necesitarlo.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-k">
<tt class="descname">-k</tt><tt class="descclassname"> &lt;key-file&gt;</tt><tt class="descclassname">, </tt><tt class="descname">--key</tt><tt class="descclassname"> &lt;key-file&gt;</tt><a class="headerlink" href="#cmdoption-k" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ubicación de la <a class="reference internal" href="glossary.html#term-clave-privada"><em class="xref std std-term">clave privada</em></a> utilizada para firmar el <a class="reference internal" href="glossary.html#term-csr"><em class="xref std std-term">CSR</em></a> enviado a la <a class="reference internal" href="glossary.html#term-afip"><em class="xref std std-term">AFIP</em></a>.
En caso de no estar presente se intentará localizar la <a class="reference internal" href="glossary.html#term-clave-privada"><em class="xref std std-term">clave privada</em></a> <strong>&lt;cuit&gt;.key</strong> en el directorio
actual. De no existir dicho archivo, no se podrá solicitar un nuevo <a class="reference internal" href="glossary.html#term-ticket-de-acceso"><em class="xref std std-term">ticket de acceso</em></a> en caso de
necesitarlo.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-t">
<tt class="descname">-t</tt><tt class="descclassname"> &lt;ticket-file&gt;</tt><tt class="descclassname">, </tt><tt class="descname">--ticket</tt><tt class="descclassname"> &lt;ticket-file&gt;</tt><a class="headerlink" href="#cmdoption-t" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ubicación de un <a class="reference internal" href="glossary.html#term-ticket-de-acceso"><em class="xref std std-term">ticket de acceso</em></a> provisto por la <a class="reference internal" href="glossary.html#term-afip"><em class="xref std std-term">AFIP</em></a> con anterioridad. Si el archivo existe y
el ticket aún es válido, se utilizará este <a class="reference internal" href="glossary.html#term-ticket-de-acceso"><em class="xref std std-term">ticket de acceso</em></a> en lugar de solicitar uno nuevo. Si
en cambio el archivo no existe, o si existe pero el ticket ya expiró, se solicitará un nuevo
<a class="reference internal" href="glossary.html#term-ticket-de-acceso"><em class="xref std std-term">ticket de acceso</em></a>. En todos los casos en que sea necesario solicitar un nuevo <a class="reference internal" href="glossary.html#term-ticket-de-acceso"><em class="xref std std-term">ticket de acceso</em></a>,
el mismo será almacenado en el &lt;ticket-file&gt; especificado. En caso de no estar presente esta opción, se
intentará localizar el <a class="reference internal" href="glossary.html#term-ticket-de-acceso"><em class="xref std std-term">ticket de acceso</em></a> <strong>&lt;cuit&gt;.xml</strong> en el directorio actual. De no existir dicho
archivo, se requerirá un nuevo <a class="reference internal" href="glossary.html#term-ticket-de-acceso"><em class="xref std std-term">ticket de acceso</em></a> al <a class="reference internal" href="glossary.html#term-wsaa"><em class="xref std std-term">WSAA</em></a> de la <a class="reference internal" href="glossary.html#term-afip"><em class="xref std std-term">AFIP</em></a> por cada transacción. Por
este motivo se recomienda utilizar esta opción siempre que sea posible.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-o">
<tt class="descname">-o</tt><tt class="descclassname"> &lt;path&gt;</tt><tt class="descclassname">, </tt><tt class="descname">--out</tt><tt class="descclassname"> &lt;path&gt;</tt><a class="headerlink" href="#cmdoption-o" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Guarda la respuesta en el archivo indicado en lugar de mostrarla por pantalla.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-l">
<tt class="descname">-l</tt><tt class="descclassname"> &lt;path&gt;</tt><tt class="descclassname">, </tt><tt class="descname">--log</tt><tt class="descclassname"> &lt;path&gt;</tt><a class="headerlink" href="#cmdoption-l" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Guarda un log de la comunicación con los web services de AFIP en el archivo indicado.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-e">
<tt class="descname">-e</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--test</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-e" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Ejecuta el servicio en el entorno de pruebas (modo <a class="reference internal" href="glossary.html#term-testing"><em class="xref std std-term">Testing</em></a>). Ver <a class="reference internal" href="modes.html"><em>Modos de ejecución</em></a>.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-h">
<tt class="descname">-h</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--help</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-h" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Muestra más información sobre la sintaxis del servicio especificado.</p>
</dd></dl>

<dl class="option">
<dt id="cmdoption-v">
<tt class="descname">-v</tt><tt class="descclassname"></tt><tt class="descclassname">, </tt><tt class="descname">--version</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption-v" title="Enlazar permanentemente con esta definición">¶</a></dt>
<dd><p>Informa la versión actual de <strong>WSFErb</strong>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="formato-del-archivo">
<h2>Formato del Archivo<a class="headerlink" href="#formato-del-archivo" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El comprobante que se envía a la <a class="reference internal" href="glossary.html#term-afip"><em class="xref std std-term">AFIP</em></a> para autorizar los comprobantes tiene el mismo formato que el comprobante
que se recibe como respuesta conteniendo el <a class="reference internal" href="glossary.html#term-cae"><em class="xref std std-term">CAE</em></a> otorgado.</p>
<p>En ambos casos, el primer caracter de cada registro define el tipo de registro y el formato de los caracteres siguientes.</p>
<p>Los registros de tipo &#8220;C&#8221;, &#8220;E&#8221; y &#8220;V&#8221; son válidos unicamente en los comprobantes recibidos como respuesta.</p>
<div class="section" id="tipo-de-registro-1-cabecera">
<h3>Tipo de Registro 1 (cabecera)<a class="headerlink" href="#tipo-de-registro-1-cabecera" title="Enlazar permanentemente con este título">¶</a></h3>
<p>El archivo contiene un único registro de tipo &#8220;1&#8221; con los datos de la cabecera del comprobante.</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="8%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Campo</th>
<th class="head">Tipo</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>TipoReg</td>
<td>S(1)</td>
<td>Tipo de Registro - &#8220;1&#8221;</td>
</tr>
<tr><td>TipoCbte</td>
<td>N(3)</td>
<td>Tipo de comprobante (ver <a class="reference internal" href="fexGetParamTipoCbte.html"><em>FEXGetParamTipoCbte</em></a>)</td>
</tr>
<tr><td>PtoVenta</td>
<td>N(4)</td>
<td>Punto de venta (ver <a class="reference internal" href="fexGetParamPtoVenta.html"><em>FEXGetParamPtoVenta</em></a>)</td>
</tr>
<tr><td>NroCbte</td>
<td>N(8)</td>
<td>Número de comprobante (ver <a class="reference internal" href="fexGetLastCmp.html"><em>FEXGetLastCmp</em></a>)</td>
</tr>
<tr><td>ID</td>
<td>N(15)</td>
<td>Identificador único del requerimiento</td>
</tr>
<tr><td>FchCbte</td>
<td>S(8)</td>
<td>Fecha de comprobante (AAAAMMDD)</td>
</tr>
<tr><td>TipoExpo</td>
<td>N(1)</td>
<td>Tipo de exportación (ver <a class="reference internal" href="fexGetParamTipoExpo.html"><em>FEXGetParamTipoExpo</em></a>)</td>
</tr>
<tr><td>PermisoExistente</td>
<td>S(1)</td>
<td>Indica si posee permiso de embarque.
Valores posibles: <strong>S</strong>, <strong>N</strong>, o NULL (vacío)</td>
</tr>
<tr><td>Destino</td>
<td>N(3)</td>
<td>Código del país de destino (ver <a class="reference internal" href="fexGetParamDstPais.html"><em>FEXGetParamDstPais</em></a>)</td>
</tr>
<tr><td>CuitPais</td>
<td>N(11)</td>
<td>CUIT del país de destino (ver <a class="reference internal" href="fexGetParamDstCuit.html"><em>FEXGetParamDstCuit</em></a>).
Este dato no es obligatorio si se ingresó algún valor
en el campo IdImpositivo.</td>
</tr>
<tr><td>IdImpositivo</td>
<td>S(50)</td>
<td>Clave de identificación tributaria del comprador
Este dato no es obligatorio si se ingresó algún valor
en el campo CuitPais.</td>
</tr>
<tr><td>Cliente</td>
<td>S(200)</td>
<td>Apellido y Nombre o Razón Social del comprador</td>
</tr>
<tr><td>Domicilio</td>
<td>S(300)</td>
<td>Domicilio comercial del comprador</td>
</tr>
<tr><td>MonId</td>
<td>S(3)</td>
<td>Código de moneda (ver <a class="reference internal" href="fexGetParamMon.html"><em>FEXGetParamMon</em></a>)</td>
</tr>
<tr><td>MonCotiz</td>
<td>N(12,6)</td>
<td>Cotización de la moneda (ver <a class="reference internal" href="fexGetParamCtz.html"><em>FEXGetParamCtz</em></a>)</td>
</tr>
<tr><td>ImpTotal</td>
<td>N(15,2)</td>
<td>Importe total del comprobante</td>
</tr>
<tr><td>FormaPago</td>
<td>S(50)</td>
<td>Descripción de la forma de pago</td>
</tr>
<tr><td>Idioma</td>
<td>S(1)</td>
<td>Idioma del comprobante (ver <a class="reference internal" href="fexGetParamIdiomas.html"><em>FEXGetParamIdiomas</em></a>)</td>
</tr>
<tr><td>IncotermId</td>
<td>S(3)</td>
<td>Incoterm (ver <a class="reference internal" href="fexGetParamIncoterms.html"><em>FEXGetParamIncoterms</em></a>)</td>
</tr>
<tr><td>IncotermDesc</td>
<td>S(20)</td>
<td>Descripción del Incoterm (ver <a class="reference internal" href="fexGetParamIncoterms.html"><em>FEXGetParamIncoterms</em></a>)</td>
</tr>
<tr><td>Observaciones</td>
<td>S(1000)</td>
<td>Observaciones</td>
</tr>
<tr><td>ObsComerciales</td>
<td>S(1000)</td>
<td>Observaciones comerciales</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tipo-de-registro-2-permisos">
<h3>Tipo de Registro 2 (permisos)<a class="headerlink" href="#tipo-de-registro-2-permisos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Un comprobante tiene un registro de tipo &#8220;2&#8221; por cada permiso de embarque asociado.</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="8%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Campo</th>
<th class="head">Tipo</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>TipoReg</td>
<td>S(1)</td>
<td>Tipo de Registro - &#8220;2&#8221;</td>
</tr>
<tr><td>TipoCbte</td>
<td>N(3)</td>
<td>Tipo de comprobante (ver <a class="reference internal" href="fexGetParamTipoCbte.html"><em>FEXGetParamTipoCbte</em></a>)</td>
</tr>
<tr><td>PtoVenta</td>
<td>N(4)</td>
<td>Punto de venta (ver <a class="reference internal" href="fexGetParamPtoVenta.html"><em>FEXGetParamPtoVenta</em></a>)</td>
</tr>
<tr><td>NroCbte</td>
<td>N(8)</td>
<td>Número de comprobante</td>
</tr>
<tr><td>IdPermiso</td>
<td>S(16)</td>
<td>Código de despacho / permiso de embarque</td>
</tr>
<tr><td>Destino</td>
<td>N(3)</td>
<td>Código del país de destino (ver <a class="reference internal" href="fexGetParamDstPais.html"><em>FEXGetParamDstPais</em></a>)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tipo-de-registro-3-comprobantes-asociados">
<h3>Tipo de Registro 3 (comprobantes asociados)<a class="headerlink" href="#tipo-de-registro-3-comprobantes-asociados" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Cada comprobante puede contener uno o más registros de tipo &#8220;3&#8221;, uno por cada comprobante asociado.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="9%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Campo</th>
<th class="head">Tipo</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>TipoReg</td>
<td>S(1)</td>
<td>Tipo de Registro - &#8220;3&#8221;</td>
</tr>
<tr><td>TipoCbte</td>
<td>N(3)</td>
<td>Tipo de comprobante (ver <a class="reference internal" href="fexGetParamTipoCbte.html"><em>FEXGetParamTipoCbte</em></a>)</td>
</tr>
<tr><td>PtoVenta</td>
<td>N(4)</td>
<td>Punto de venta (ver <a class="reference internal" href="fexGetParamPtoVenta.html"><em>FEXGetParamPtoVenta</em></a>)</td>
</tr>
<tr><td>NroCbte</td>
<td>N(8)</td>
<td>Número de comprobante</td>
</tr>
<tr><td>TipoCbteAsoc</td>
<td>N(3)</td>
<td>Tipo de comprobante (ver <a class="reference internal" href="fexGetParamTipoCbte.html"><em>FEXGetParamTipoCbte</em></a>)</td>
</tr>
<tr><td>PtoVentaAsoc</td>
<td>N(4)</td>
<td>Punto de venta (ver <a class="reference internal" href="fexGetParamPtoVenta.html"><em>FEXGetParamPtoVenta</em></a>)</td>
</tr>
<tr><td>NroCbteAsoc</td>
<td>N(8)</td>
<td>Número de comprobante asociado</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tipo-de-registro-4-items">
<h3>Tipo de Registro 4 (items)<a class="headerlink" href="#tipo-de-registro-4-items" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Cada comprobante contiene un registro de tipo &#8220;4&#8221; por cada item.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="9%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Campo</th>
<th class="head">Tipo</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>TipoReg</td>
<td>S(1)</td>
<td>Tipo de Registro - &#8220;4&#8221;</td>
</tr>
<tr><td>TipoCbte</td>
<td>N(3)</td>
<td>Tipo de comprobante (ver <a class="reference internal" href="fexGetParamTipoCbte.html"><em>FEXGetParamTipoCbte</em></a>)</td>
</tr>
<tr><td>PtoVenta</td>
<td>N(4)</td>
<td>Punto de venta (ver <a class="reference internal" href="fexGetParamPtoVenta.html"><em>FEXGetParamPtoVenta</em></a>)</td>
</tr>
<tr><td>NroCbte</td>
<td>N(8)</td>
<td>Número de comprobante</td>
</tr>
<tr><td>Cantidad</td>
<td>N(12,2)</td>
<td>Cantidad</td>
</tr>
<tr><td>UMed</td>
<td>N(2)</td>
<td>Unidad de medida (ver <a class="reference internal" href="fexGetParamUMed.html"><em>FEXGetParamUMed</em></a>)</td>
</tr>
<tr><td>PrecioUni</td>
<td>N(12,3)</td>
<td>Precio unitario</td>
</tr>
<tr><td>TotalItem</td>
<td>N(14,3)</td>
<td>Importe total</td>
</tr>
<tr><td>ProdId</td>
<td>S(30)</td>
<td>Código de producto</td>
</tr>
<tr><td>ProdDesc</td>
<td>S(4000)</td>
<td>Descripción</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tipo-de-registro-c-cae">
<h3>Tipo de Registro C (CAE)<a class="headerlink" href="#tipo-de-registro-c-cae" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Por cada comprobante procesado, se incluye un registro de tipo &#8220;C&#8221; indicando el resultado del proceso, el CAE asociado y su fecha de vencimiento.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="9%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Campo</th>
<th class="head">Tipo</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>TipoReg</td>
<td>S(1)</td>
<td>Tipo de Registro - &#8220;C&#8221;</td>
</tr>
<tr><td>TipoCbte</td>
<td>N(3)</td>
<td>Tipo de comprobante (ver <a class="reference internal" href="fexGetParamTipoCbte.html"><em>FEXGetParamTipoCbte</em></a>)</td>
</tr>
<tr><td>PtoVenta</td>
<td>N(4)</td>
<td>Punto de venta (ver <a class="reference internal" href="fexGetParamPtoVenta.html"><em>FEXGetParamPtoVenta</em></a>)</td>
</tr>
<tr><td>NroCbte</td>
<td>N(8)</td>
<td>Número de comprobante</td>
</tr>
<tr><td>Resultado</td>
<td>S(1)</td>
<td>Resultado de la operación</td>
</tr>
<tr><td>CAE</td>
<td>S(14)</td>
<td>Código de autorización electrónico</td>
</tr>
<tr><td>FchVtoCAE</td>
<td>S(8)</td>
<td>Fecha de vencimiento del CAE (AAAAMMDD).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tipo-de-registro-e-errores">
<h3>Tipo de Registro E (errores)<a class="headerlink" href="#tipo-de-registro-e-errores" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La respuesta contiene un registro de tipo &#8220;E&#8221; por cada error detectado. No se incluirán registros de tipo &#8220;E&#8221; en caso de que la operación finalice exitosamente.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="9%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Campo</th>
<th class="head">Tipo</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>TipoReg</td>
<td>S(1)</td>
<td>Tipo de Registro - &#8220;E&#8221;</td>
</tr>
<tr><td>ErrCode</td>
<td>N(6)</td>
<td>Código de error</td>
</tr>
<tr><td>ErrMessage</td>
<td>S(512)</td>
<td>Descripción del error</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tipo-de-registro-v-eventos">
<h3>Tipo de Registro V (eventos)<a class="headerlink" href="#tipo-de-registro-v-eventos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>La respuesta contiene un registro de tipo &#8220;V&#8221; por cada evento detectado.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="9%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Campo</th>
<th class="head">Tipo</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>TipoReg</td>
<td>S(1)</td>
<td>Tipo de Registro - &#8220;V&#8221;</td>
</tr>
<tr><td>EvtCode</td>
<td>N(6)</td>
<td>Código de evento</td>
</tr>
<tr><td>EvtMessage</td>
<td>S(512)</td>
<td>Descripción del evento</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="errores-posibles">
<h3>Errores Posibles<a class="headerlink" href="#errores-posibles" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Este servicio puede devolver los siguientes códigos de error:</p>
<div class="section" id="errores-comunes-a-todos-los-servicios-wsfex">
<h4>Errores comunes a todos los servicios WSFEX<a class="headerlink" href="#errores-comunes-a-todos-los-servicios-wsfex" title="Enlazar permanentemente con este título">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Código</th>
<th class="head">Descripción</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>500</td>
<td>Error interno de aplicación</td>
</tr>
<tr><td>501</td>
<td>Error interno de base de datos</td>
</tr>
<tr><td>502</td>
<td>Error interno - Autorizador - Transacción Activa</td>
</tr>
<tr><td>900000</td>
<td>Error genérico</td>
</tr>
<tr><td>900001</td>
<td>Servicio no válido</td>
</tr>
<tr><td>900002</td>
<td>CUIT no informado</td>
</tr>
<tr><td>900003</td>
<td>No se encontró el certificado X.509</td>
</tr>
<tr><td>900004</td>
<td>No se encontró la clave privada</td>
</tr>
<tr><td>900005</td>
<td>No se pudo obtener un ticket de acceso</td>
</tr>
<tr><td>900006</td>
<td>Directorio no válido</td>
</tr>
<tr><td>900007</td>
<td>Argumento inválido o no informado</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="errores-especificos-de-este-servicio">
<h4>Errores específicos de este servicio<a class="headerlink" href="#errores-especificos-de-este-servicio" title="Enlazar permanentemente con este título">¶</a></h4>
<p>Consulte el el <a class="reference external" href="http://www.afip.gov.ar/eFactura/documentos/WSFEX-Manualparaeldesarrollador_V1.pdf">manual para el desarrollador</a> provisto por la <a class="reference internal" href="glossary.html#term-afip"><em class="xref std std-term">AFIP</em></a>.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="fexCheckPermiso.html" title="FEXCheckPermiso"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="wsfex.html" title="WSFEX"
             >anterior</a> |</li>
        <li><a href="index.html">WSFErb v2.0.rc2</a> &raquo;</li>
          <li><a href="wsfex.html" >WSFEX</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2011, Matías Alejandro Flores.
      Actualizado por última vez en 04 May 2011.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>